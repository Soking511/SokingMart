import{a as F}from"./chunk-V4UMM7FU.js";import{c as x,d as e,e as w,f as y,g as S,h as m,i as C,l as A,m as M,u as N}from"./chunk-7MINWCCE.js";import{i as v,j as b,s as _,y as E}from"./chunk-LOKSAM3O.js";import{Cb as a,Eb as f,Kb as h,Ma as l,Na as d,bb as c,ha as p,kb as t,lb as o,mb as s,rb as g}from"./chunk-RJKANFF5.js";var R=class u{constructor(n,r,i,P){this._AuthService=n;this._MessageService=r;this._ApiService=i;this._Router=P}messageError="";registerForm=new S({name:new m(null,[e.required,e.minLength(2),e.maxLength(20)]),email:new m(null,[e.required,e.email]),phone:new m(null,[e.required]),password:new m(null,[e.required,e.minLength(6),e.maxLength(20)]),confirmPassword:new m(null,[e.required,e.minLength(6),e.maxLength(20)])});addMessage=(n="success",r="Service Message",i="MessageService")=>this._MessageService.add({severity:n,summary:r,detail:i});register(n){this._AuthService.register(n.value).subscribe({next:r=>{localStorage.setItem("user",r.token),this._AuthService.saveCurrentUser(),this._Router.navigate(["/home"])},error:r=>{r.error.errors.map(i=>i.path==="email"||i.path==="password"||i.path==="phone"?this.addMessage("error","error",r.error.errors[0].msg):this.addMessage("error","error","Password must contain both uppercase and lowercase letters"))}})}static \u0275fac=function(r){return new(r||u)(d(E),d(_),d(F),d(v))};static \u0275cmp=p({type:u,selectors:[["app-register"]],standalone:!0,features:[h],decls:26,vars:2,consts:[[1,"py-16","sm:py-20","md:py-28","flex","flex-col"],[1,"container","max-w-lg","lg:max-w-2xl","mx-auto","flex-1","flex","flex-col","items-center","justify-center","px-4","sm:px-6","lg:px-8"],[1,"bg-white","px-6","sm:px-8","py-8","sm:py-10","rounded-lg","shadow-md","text-black","w-full","duration-300"],[1,"mb-6","text-2xl","sm:text-3xl","text-center","font-bold"],[1,"space-y-4","sm:space-y-6",3,"ngSubmit","formGroup"],["id","name","placeholder","Full Name","formControlName","name","type","text","name","name",1,"py-2","sm:py-3","px-4","border","border-gray-300","focus:border-indigo-500","focus:outline-none","focus:ring","focus:ring-indigo-200","rounded-md","shadow-sm","transition","duration-200","ease-in-out","block","w-full"],["id","email","placeholder","Email Address","formControlName","email","type","email","name","email",1,"py-2","sm:py-3","px-4","border","border-gray-300","focus:border-indigo-500","focus:outline-none","focus:ring","focus:ring-indigo-200","rounded-md","shadow-sm","transition","duration-200","ease-in-out","block","w-full"],["id","phone","placeholder","Phone Number","formControlName","phone","type","tel","name","phone",1,"py-2","sm:py-3","px-4","border","border-gray-300","focus:border-indigo-500","focus:outline-none","focus:ring","focus:ring-indigo-200","rounded-md","shadow-sm","transition","duration-200","ease-in-out","block","w-full"],["id","password","placeholder","Password","formControlName","password","type","password","name","password",1,"py-2","sm:py-3","px-4","border","border-gray-300","focus:border-indigo-500","focus:outline-none","focus:ring","focus:ring-indigo-200","rounded-md","shadow-sm","transition","duration-200","ease-in-out","block","w-full"],["id","confirmPassword","placeholder","Confirm Password","formControlName","confirmPassword","type","password","name","confirmPassword",1,"py-2","sm:py-3","px-4","border","border-gray-300","focus:border-indigo-500","focus:outline-none","focus:ring","focus:ring-indigo-200","rounded-md","shadow-sm","transition","duration-200","ease-in-out","block","w-full"],[1,"text-red-600","text-center"],[1,"mt-4","sm:mt-6"],["type","submit",1,"bg-indigo-600","w-full","inline-flex","items-center","justify-center","py-2","sm:py-3","border","border-transparent","rounded-md","font-semibold","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring","focus:ring-indigo-200","transition-all","duration-200","ease-in-out"],[1,"mt-4","sm:mt-6","text-center"],["routerLink","/login",1,"text-blue-600","underline","hover:text-blue-800","transition","duration-200"]],template:function(r,i){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Register"),o(),t(5,"form",4),g("ngSubmit",function(){return i.register(i.registerForm)}),t(6,"div"),s(7,"input",5),o(),t(8,"div"),s(9,"input",6),o(),t(10,"div"),s(11,"input",7),o(),t(12,"div"),s(13,"input",8),o(),t(14,"div"),s(15,"input",9),o(),t(16,"p",10),a(17),o(),t(18,"div",11)(19,"button",12),a(20," Create Account "),o()(),t(21,"div",13)(22,"span"),a(23,"Already have an account? "),o(),t(24,"a",14),a(25,"Login"),o()()()()()()),r&2&&(l(5),c("formGroup",i.registerForm),l(12),f(" ",i.messageError," "))},dependencies:[b,N,C,x,w,y,A,M],styles:[`input[_ngcontent-%COMP%]:focus {
    border-color: #4f46e5; 

    box-shadow: 0 0 0 1px rgba(79, 70, 229, 0.5); 

  }`]})};export{R as RegisterComponent};
