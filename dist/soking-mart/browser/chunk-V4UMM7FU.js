import{a as $,m as n,n as f,y as l}from"./chunk-LOKSAM3O.js";import{D as p,Y as u,ba as a,q as i}from"./chunk-RJKANFF5.js";var m=class c{constructor(e,t,r){this._GlobalService=e;this._AuthService=t;this._Http=r;this.baseURL=e.baseURL,this.version=e.version,this.apiKey=e.apiKey}baseURL="";version="";apiKey="";get(e,t,r,s){r&&this._AuthService.checkToken();let h={"X-API-KEY":this.apiKey};return r&&(h.authorization=`Bearer ${localStorage.getItem("user")}`),this._Http.get(`${this.baseURL}${this.version}/${e}${t?"?limit="+t:""}${t||!s?"":"?"}${s||""}`,{headers:h,withCredentials:!0}).pipe(p(o=>o.status===0?i("Connection error"):o.status>=400&&o.status<500?i("Client error"):o.status>=500?i("Server error"):i("error")))}fetch=e=>this._Http.get(e);update(e,t,r){return this._AuthService.checkToken(),this._Http.put(`${this.baseURL}${this.version}/${e}${r?`/${r}`:""}`,t,{headers:{authorization:`Bearer ${localStorage.getItem("user")}`,"X-API-KEY":`${this.apiKey}`,"X-CSRF-Token":`${n.get("cookies")}`},withCredentials:!0})}post(e,t,r=""){return this._AuthService.checkToken(),this._Http.post(`${this.baseURL}${this.version}/${e}${r?`/${r}`:""}`,t,{headers:{authorization:`Bearer ${localStorage.getItem("user")}`,"X-API-KEY":`${this.apiKey}`,"X-CSRF-Token":`${n.get("cookies")}`},withCredentials:!0}).pipe(p(s=>i(s)))}delete(e,t){return this._AuthService.checkToken(),this._Http.delete(`${this.baseURL}${this.version}/${e}${t?`/${t}`:""}`,{headers:{authorization:`Bearer ${localStorage.getItem("user")}`,"X-API-KEY":`${this.apiKey}`,"X-CSRF-Token":`${n.get("cookies")}`},withCredentials:!0})}static \u0275fac=function(t){return new(t||c)(a(f),a(l),a($))};static \u0275prov=u({token:c,factory:c.\u0275fac,providedIn:"root"})};export{m as a};
